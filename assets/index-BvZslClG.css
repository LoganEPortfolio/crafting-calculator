:root{--bg-primary: #1a1a2e;--bg-secondary: #16213e;--bg-tertiary: #0f3460;--bg-hover: #1a3a6e;--bg-input: #0d1b36;--text-primary: #e2e8f0;--text-secondary: #94a3b8;--text-muted: #64748b;--text-accent: #fbbf24;--text-green: #4ade80;--text-blue: #60a5fa;--text-orange: #fb923c;--text-red: #f87171;--text-purple: #a78bfa;--border-color: #2d3a5c;--border-light: #3d4a6c;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--shadow: 0 4px 6px -1px rgba(0, 0, 0, .3);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .4);--font-mono: "Courier New", Courier, monospace;--font-main: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;--transition: .15s ease}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{font-size:16px;-webkit-font-smoothing:antialiased}body{font-family:var(--font-main);background:var(--bg-primary);color:var(--text-primary);line-height:1.6;min-height:100vh}#root{min-height:100vh}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--bg-primary)}::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px}::-webkit-scrollbar-thumb:hover{background:var(--border-light)}::selection{background:var(--bg-tertiary);color:var(--text-accent)}.app{max-width:960px;margin:0 auto;padding:1.5rem}.header{text-align:center;padding:1.5rem 0 1rem;border-bottom:2px solid var(--border-color);margin-bottom:1.5rem}.header__title{font-size:2rem;font-weight:700;color:var(--text-accent);display:flex;align-items:center;justify-content:center;gap:.5rem}.header__subtitle{color:var(--text-secondary);font-size:.95rem;margin-top:.25rem}.controls{background:var(--bg-secondary);border-radius:var(--radius-lg);padding:1.25rem;margin-bottom:1.5rem;box-shadow:var(--shadow);border:1px solid var(--border-color)}.controls__row{display:flex;gap:1rem;align-items:flex-end;flex-wrap:wrap}.controls__group{display:flex;flex-direction:column;gap:.35rem}.controls__group--category{min-width:150px}.controls__group--item{flex:1;min-width:200px}.controls__group--quantity{width:120px}.controls__label{font-size:.8rem;font-weight:600;color:var(--text-blue);text-transform:uppercase;letter-spacing:.5px}.controls__select,.controls__input{background:var(--bg-input);border:1px solid var(--border-color);border-radius:var(--radius-sm);color:var(--text-primary);padding:.55rem .75rem;font-size:.95rem;font-family:var(--font-main);transition:border-color var(--transition);width:100%}.controls__select:focus,.controls__input:focus{outline:none;border-color:var(--text-blue)}.controls__select:hover,.controls__input:hover{border-color:var(--border-light)}.controls__select option{background:var(--bg-input);color:var(--text-primary)}.controls__reset{background:transparent;border:1px solid var(--border-color);color:var(--text-secondary);padding:.55rem 1rem;border-radius:var(--radius-sm);font-size:.85rem;cursor:pointer;transition:all var(--transition);white-space:nowrap}.controls__reset:hover{border-color:var(--text-red);color:var(--text-red)}.summary-bar{display:flex;gap:1rem;margin-bottom:1.5rem;flex-wrap:wrap}.summary-card{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:.75rem 1.25rem;flex:1;min-width:140px;box-shadow:var(--shadow)}.summary-card__label{font-size:.7rem;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);margin-bottom:.15rem}.summary-card__value{font-size:1.35rem;font-weight:700;color:var(--text-accent)}.summary-card__value--green{color:var(--text-green)}.summary-card__value--blue{color:var(--text-blue)}.summary-card__value--orange{color:var(--text-orange)}.section{margin-bottom:1.5rem}.section__title{font-size:1.1rem;font-weight:600;color:var(--text-blue);margin-bottom:.75rem;display:flex;align-items:center;gap:.5rem}.material-table{width:100%;border-collapse:collapse;background:var(--bg-secondary);border-radius:var(--radius-md);overflow:hidden;box-shadow:var(--shadow);border:1px solid var(--border-color)}.material-table th{background:var(--bg-tertiary);text-align:left;padding:.65rem 1rem;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);border-bottom:2px solid var(--border-color)}.material-table th.text-right{text-align:right}.material-table td{padding:.6rem 1rem;border-bottom:1px solid var(--border-color);font-size:.9rem}.material-table td.text-right{text-align:right}.material-table tr:last-child td{border-bottom:none}.material-table tr:hover td{background:var(--bg-hover)}.material-table__name{color:var(--text-green);font-weight:500}.material-table__count{color:var(--text-primary);font-weight:600;font-family:var(--font-mono)}.material-table__stacks{color:var(--text-secondary);font-family:var(--font-mono);font-size:.85rem}.intermediate-table__name{color:var(--text-accent);font-weight:500}.intermediate-table__surplus{font-family:var(--font-mono)}.intermediate-table__surplus--zero{color:var(--text-green)}.intermediate-table__surplus--has{color:var(--text-orange)}.stack-breakdown{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:1rem;box-shadow:var(--shadow)}.stack-row{display:flex;align-items:center;gap:.75rem;padding:.5rem 0;border-bottom:1px solid var(--border-color)}.stack-row:last-child{border-bottom:none}.stack-row__name{color:var(--text-green);font-weight:500;min-width:140px;font-size:.9rem}.stack-row__visual{display:flex;gap:3px;flex-wrap:wrap;flex:1}.stack-block{width:28px;height:28px;border-radius:3px;display:flex;align-items:center;justify-content:center;font-size:.6rem;font-weight:700;font-family:var(--font-mono)}.stack-block--full{background:var(--bg-tertiary);border:1px solid var(--text-blue);color:var(--text-blue)}.stack-block--partial{background:#1a2a1e;border:1px solid var(--text-green);color:var(--text-green)}.stack-row__text{color:var(--text-secondary);font-size:.8rem;font-family:var(--font-mono);min-width:100px;text-align:right}.recipe-tree{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:1rem;box-shadow:var(--shadow);font-size:.9rem}.tree-node{padding:3px 0}.tree-node__content{display:flex;align-items:center;gap:.4rem;padding:3px 6px;border-radius:var(--radius-sm);transition:background var(--transition)}.tree-node__content:hover{background:var(--bg-hover)}.tree-node__connector{color:var(--text-muted);font-family:var(--font-mono);-webkit-user-select:none;user-select:none}.tree-node__icon{font-size:.85rem}.tree-node__name{font-weight:500}.tree-node__name--raw{color:var(--text-green)}.tree-node__name--crafted{color:var(--text-accent)}.tree-node__quantity{color:var(--text-primary);font-family:var(--font-mono);font-weight:600}.tree-node__meta{color:var(--text-muted);font-size:.8rem;font-family:var(--font-mono)}.tree-node__surplus{color:var(--text-orange);font-size:.8rem;font-family:var(--font-mono)}.tree-node__children{padding-left:1.5rem;border-left:1px dashed var(--border-color);margin-left:.65rem}.empty-state{text-align:center;padding:3rem 1rem;color:var(--text-muted)}.empty-state__icon{font-size:3rem;margin-bottom:.75rem}.empty-state__text{font-size:1.1rem;margin-bottom:.25rem}.empty-state__hint{font-size:.85rem;color:var(--text-muted)}.error-list{background:#2d1b1b;border:1px solid var(--text-red);border-radius:var(--radius-md);padding:1rem;margin-bottom:1rem}.error-list__title{color:var(--text-red);font-weight:600;margin-bottom:.5rem}.error-list__item{color:var(--text-red);font-size:.85rem;padding:.15rem 0}.tabs{display:flex;gap:2px;margin-bottom:1rem;background:var(--bg-primary);border-radius:var(--radius-md);padding:3px;border:1px solid var(--border-color)}.tab{flex:1;padding:.5rem 1rem;border:none;background:transparent;color:var(--text-secondary);font-size:.85rem;font-weight:500;cursor:pointer;border-radius:var(--radius-sm);transition:all var(--transition);font-family:var(--font-main)}.tab:hover{color:var(--text-primary);background:var(--bg-secondary)}.tab--active{background:var(--bg-tertiary);color:var(--text-accent)}@media(max-width:640px){.app{padding:1rem}.header__title{font-size:1.5rem}.controls__row{flex-direction:column}.controls__group--quantity{width:100%}.summary-bar{flex-direction:column}.material-table{font-size:.8rem}.material-table th,.material-table td{padding:.5rem .6rem}.stack-row{flex-direction:column;align-items:flex-start}.stack-row__text{text-align:left}}.crafting-grid__wrapper{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:1.25rem;box-shadow:var(--shadow)}.crafting-grid__type-badge{font-size:.75rem;font-weight:400;color:var(--text-secondary);background:var(--bg-primary);padding:2px 8px;border-radius:10px;margin-left:4px}.crafting-grid__layout{display:flex;align-items:center;justify-content:center;gap:1.5rem;padding:1rem 0;flex-wrap:wrap}.crafting-grid__table{display:flex;flex-direction:column;align-items:center;gap:.5rem}.crafting-grid__table-label{font-size:.7rem;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);font-weight:600}.crafting-grid__cells{display:grid;grid-template-columns:repeat(3,1fr);gap:3px;background:#2a1f0e;padding:8px;border-radius:var(--radius-sm);border:2px solid #5a4a2a;box-shadow:inset 0 2px 4px #0006}.grid-cell{width:52px;height:52px;border-radius:3px;display:flex;align-items:center;justify-content:center;transition:transform var(--transition);position:relative}.grid-cell--empty{background:#1a1408;border:1px solid #3a3020}.grid-cell--fuel{border-style:dashed}.grid-cell--filled{border:2px solid;cursor:help;box-shadow:inset 0 1px 2px #ffffff1a,0 1px 3px #0000004d}.grid-cell--filled:hover{transform:scale(1.1);z-index:1;box-shadow:0 0 8px #ffffff26,inset 0 1px 2px #ffffff1a}.grid-cell--result{width:56px;height:56px}.grid-cell__abbr{font-size:.65rem;font-weight:800;font-family:var(--font-mono);text-transform:uppercase;letter-spacing:.3px;text-shadow:0 1px 2px rgba(0,0,0,.5);-webkit-user-select:none;user-select:none}.crafting-grid__arrow{display:flex;align-items:center;justify-content:center}.crafting-grid__arrow-icon{font-size:1.8rem;filter:grayscale(.3)}.crafting-grid__result{display:flex;flex-direction:column;align-items:center;gap:.5rem}.crafting-grid__result-cell{position:relative;background:#1a2a0e;padding:10px;border-radius:var(--radius-sm);border:2px solid #4a6a2a;box-shadow:inset 0 2px 4px #0006}.crafting-grid__result-count{position:absolute;bottom:2px;right:4px;font-size:.8rem;font-weight:800;color:#fff;font-family:var(--font-mono);text-shadow:1px 1px 2px rgba(0,0,0,.8),-1px -1px 2px rgba(0,0,0,.8)}.crafting-grid__furnace{display:flex;flex-direction:column;align-items:center;gap:.5rem}.crafting-grid__furnace-slots{display:flex;flex-direction:column;align-items:center;gap:6px;background:#2a2020;padding:10px;border-radius:var(--radius-sm);border:2px solid #5a3a3a;box-shadow:inset 0 2px 4px #0006}.crafting-grid__furnace-flame{font-size:1.2rem;animation:flicker 1s ease-in-out infinite alternate}@keyframes flicker{0%{opacity:.7;transform:scale(.95)}to{opacity:1;transform:scale(1.05)}}.crafting-grid__legend{margin-top:1rem;padding-top:1rem;border-top:1px solid var(--border-color)}.crafting-grid__legend-title{font-size:.7rem;text-transform:uppercase;letter-spacing:.5px;color:var(--text-muted);margin-bottom:.5rem;font-weight:600}.crafting-grid__legend-items{display:flex;flex-wrap:wrap;gap:.75rem}.crafting-grid__legend-entry{display:flex;align-items:center;gap:.4rem}.crafting-grid__legend-swatch{width:24px;height:24px;border-radius:3px;border:2px solid;display:flex;align-items:center;justify-content:center;flex-shrink:0}.crafting-grid__legend-name{font-size:.8rem;color:var(--text-secondary)}.crafting-grid--mini .crafting-grid__cells{padding:4px;gap:2px}.crafting-grid--mini .grid-cell{width:32px;height:32px}.crafting-grid--mini .grid-cell__abbr{font-size:.45rem}.crafting-grid--mini .grid-cell--result{width:36px;height:36px}.crafting-grid--mini .crafting-grid__arrow-icon{font-size:1.2rem}.crafting-grid--mini .crafting-grid__result-count{font-size:.6rem}@media(max-width:640px){.crafting-grid__layout{gap:1rem}.grid-cell{width:44px;height:44px}.grid-cell--result{width:48px;height:48px}.grid-cell__abbr{font-size:.55rem}.crafting-grid__arrow-icon{font-size:1.4rem}}.crafting-grid__intermediates{display:flex;flex-direction:column;gap:1rem}.crafting-grid__intermediates .section{margin-bottom:0}.crafting-grid__intermediates .section__title{font-size:.95rem}
